(this["webpackJsonpinstagram-tribute"]=this["webpackJsonpinstagram-tribute"]||[]).push([[0],{44:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var s=a(0),c=a.n(s),n=a(15),o=a.n(n),r=a(37),i=a(6),l=(a(44),a(77)),m=a(19);a(55),a(45),a(54);m.a.initializeApp({apiKey:"AIzaSyAFH8Rmv2Mo0zHsEe9YPkGu1xSoxlKnEYc",authDomain:"photogram-d19f9.firebaseapp.com",projectId:"photogram-d19f9",storageBucket:"photogram-d19f9.appspot.com",messagingSenderId:"511462971904",appId:"1:511462971904:web:4099f7512ea7e0a2f496e5",measurementId:"G-1Z85QDSCWK"});const p=m.a.firestore(),u=m.a.auth(),j=m.a.storage();var d=a(5);var b=function(e){let{postId:t,user:a,username:c,caption:n,imageUrl:o}=e;const[r,i]=Object(s.useState)([]),[u,j]=Object(s.useState)("");return Object(s.useEffect)((()=>{let e;return t&&(e=p.collection("posts").doc(t).collection("comments").orderBy("timestamp","desc").onSnapshot((e=>{i(e.docs.map((e=>e.data())))}))),()=>{e()}}),[t]),Object(d.jsxs)("div",{className:"post",children:[Object(d.jsxs)("div",{className:"post__header",children:[Object(d.jsx)(l.a,{className:"post__avatar",alt:c,src:"/static/images/avatar/1.jpg"}),Object(d.jsx)("h3",{children:c})]}),Object(d.jsx)("img",{className:"post__image",src:o,alt:""}),Object(d.jsxs)("h4",{className:"post__text",children:[Object(d.jsx)("strong",{children:c})," ",n]}),r.length>0&&Object(d.jsx)("div",{className:"post__comments",children:r.map((e=>Object(d.jsxs)("p",{children:[Object(d.jsx)("strong",{children:e.username})," ",e.text]},e.id)))}),a&&Object(d.jsx)("form",{className:"comment__form",children:Object(d.jsxs)("div",{className:"comment__wrapper",children:[Object(d.jsx)("input",{className:"comment__Input",type:"text",placeholder:"Add a comment...",value:u,onChange:e=>j(e.target.value)}),Object(d.jsx)("button",{className:"comment__button text__button",disabled:!u,onClick:e=>{e.preventDefault(),p.collection("posts").doc(t).collection("comments").add({text:u,username:a.displayName,timestamp:m.a.firestore.FieldValue.serverTimestamp()}),j("")},type:"submit",children:"Post"})]})})]})},h=(a(50),a(75)),g=a(76);a(51);var O=function(e){let{user:t}=e;const[a,c]=Object(s.useState)(null),[n,o]=Object(s.useState)(0),[r,i]=Object(s.useState)("");return Object(d.jsxs)("div",{className:"imageUpload",children:[Object(d.jsx)("input",{type:"text",placeholder:"Enter a caption...",onChange:e=>i(e.target.value),value:r}),Object(d.jsx)("progress",{className:"progress",value:n,max:"100"}),Object(d.jsxs)("div",{className:"uploadCapBtn",children:[Object(d.jsx)("input",{className:"uploadCap",type:"file",onChange:e=>{e.target.files[0]&&c(e.target.files[0])}}),Object(d.jsx)("button",{className:"primary__button uploadBtn",onClick:()=>{j.ref("images/".concat(a.name)).put(a).on("state_changed",(e=>{const t=Math.round(e.bytesTransferred/e.totalBytes*100);o(t)}),(e=>{console.log(e),alert(e.message)}),(()=>{j.ref("images").child(a.name).getDownloadURL().then((e=>{p.collection("posts").add({timestamp:m.a.firestore.FieldValue.serverTimestamp(),caption:r,imageUrl:e,username:t.displayName}),o(0),i(""),c(null)}))}))},children:"Post"})]})]})};a(52);var x=function(){const[e,t]=Object(s.useState)(""),[a,c]=Object(s.useState)(""),[n,o]=Object(s.useState)("");return Object(d.jsxs)("div",{className:"login-container",children:[Object(d.jsx)("h2",{children:"Login Page"}),Object(d.jsxs)("form",{className:"login-form",onSubmit:t=>{t.preventDefault(),u.signInWithEmailAndPassword(e,a).then((e=>{console.log("Email login successful")})).catch((e=>{console.error("Email login error:",e.message)}))},children:[Object(d.jsxs)("label",{children:["Email:",Object(d.jsx)("input",{type:"email",value:e,onChange:e=>t(e.target.value)})]}),Object(d.jsxs)("label",{children:["Password:",Object(d.jsx)("input",{type:"password",value:a,onChange:e=>c(e.target.value)})]}),Object(d.jsx)("button",{type:"submit",children:"Email Login"})]}),Object(d.jsx)("button",{className:"login-form-button",onClick:()=>{const e=new m.a.auth.GoogleAuthProvider;u.signInWithPopup(e).then((e=>{console.log("Google login successful")})).catch((e=>{console.error("Google login error:",e.message)}))},children:"Google Login"}),Object(d.jsxs)("form",{className:"login-form",onSubmit:()=>{const e=new m.a.auth.RecaptchaVerifier("recaptcha-container");u.signInWithPhoneNumber(n,e).then((e=>{const t=window.prompt("Enter the verification code:");return e.confirm(t)})).then((e=>{console.log("Phone number login successful")})).catch((e=>{console.error("Phone number login error:",e.message)}))},children:[Object(d.jsx)("input",{type:"text",placeholder:"Enter phone number",value:n,onChange:e=>o(e.target.value)}),Object(d.jsx)("button",{type:"submit",children:"Phone Number Login"})]})]})},f=a.p+"static/media/Messi.2f3c1640.jpg",v=a.p+"static/media/Ronaldo.653ff3fa.jpeg";function _(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}const y=Object(h.a)((()=>({paper:{position:"absolute",width:400,backgroundColor:"rgba(255,255,255,1)",boxShadow:24,padding:"30px 60px",borderRadius:"12px"}})));function N(){const e=y(),[t]=Object(s.useState)(_),[a,c]=Object(s.useState)([]),[n,o]=Object(s.useState)(!1),[r,i]=Object(s.useState)(!1),[l,j]=Object(s.useState)(""),[h,N]=Object(s.useState)(""),[w,S]=Object(s.useState)(""),[C,E]=Object(s.useState)(null);Object(s.useEffect)((()=>{const e=u.onAuthStateChanged((e=>{E(e||null)}));return()=>{e()}}),[]),Object(s.useEffect)((()=>{const e=p.collection("posts").orderBy("timestamp","desc").onSnapshot((e=>{c(e.docs.map((e=>({id:e.id,post:e.data()}))))}));return()=>{e()}}),[]);return Object(s.useEffect)((()=>{(async()=>{if((await p.collection("posts").get()).empty){[{username:"dummyuser1",caption:"This is a dummy post 1",imageUrl:f},{username:"dummyuser2",caption:"This is a dummy post 2",imageUrl:v}].forEach((async e=>{await p.collection("posts").add({username:e.username,caption:e.caption,imageUrl:e.imageUrl,timestamp:m.a.firestore.FieldValue.serverTimestamp()})}))}})()}),[]),C?Object(d.jsxs)("div",{className:"app",children:[Object(d.jsx)(g.a,{open:n,onClose:()=>o(!1),children:Object(d.jsxs)("div",{style:t,className:e.paper,children:[Object(d.jsx)("center",{children:Object(d.jsx)("img",{src:"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png",alt:"Instagram original logo"})}),Object(d.jsxs)("form",{className:"app__signUp",children:[Object(d.jsx)("input",{placeholder:"Username",type:"text",value:l,onChange:e=>j(e.target.value)}),Object(d.jsx)("input",{placeholder:"Email address",type:"text",value:h,onChange:e=>N(e.target.value)}),Object(d.jsx)("input",{placeholder:"Password",type:"password",value:w,onChange:e=>S(e.target.value)}),Object(d.jsx)("button",{className:"primary__button",type:"submit",onClick:e=>{e.preventDefault(),u.createUserWithEmailAndPassword(h,w).then((e=>e.user.updateProfile({displayName:l}))).catch((e=>alert(e.message))),o(!1),j(""),N(""),S("")},children:"Sign up"})]}),Object(d.jsx)("center",{className:"authFooter",children:Object(d.jsxs)("small",{children:["\xa9 2023 Photogram by"," ",Object(d.jsx)("a",{href:"mailto:bkrofegha@gmail.com@yahoo.com",children:"Ayishik Das"})]})})]})}),Object(d.jsx)(g.a,{open:r,onClose:()=>i(!1),children:Object(d.jsxs)("div",{style:t,className:e.paper,children:[Object(d.jsx)("center",{children:Object(d.jsx)("img",{src:"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png",alt:"Instagram original logo"})}),Object(d.jsxs)("form",{className:"app__signUp",children:[Object(d.jsx)("input",{placeholder:"Email address",type:"text",value:h,onChange:e=>N(e.target.value)}),Object(d.jsx)("input",{placeholder:"Password",type:"password",value:w,onChange:e=>S(e.target.value)}),Object(d.jsx)("button",{className:"primary__button",type:"submit",onClick:e=>{e.preventDefault(),u.signInWithEmailAndPassword(h,w).catch((e=>alert(e.message))),i(!1),N(""),S("")},children:"Log in"})]}),Object(d.jsx)("center",{className:"authFooter",children:Object(d.jsxs)("small",{children:["\xa9 2021 Instagram Tribute by"," ",Object(d.jsx)("a",{href:"mailto:bkrofegha@gmail.com@yahoo.com",children:"Blessing Krofegha"})]})})]})}),Object(d.jsx)("div",{className:"app__header",children:Object(d.jsxs)("div",{className:"app__headerWrapper",children:[Object(d.jsx)("img",{src:"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png",alt:"Instagram original logo"}),C?Object(d.jsx)("button",{className:"text__button",onClick:()=>u.signOut(),children:"Logout"}):Object(d.jsxs)("div",{className:"app__headerButtons",children:[Object(d.jsx)("button",{className:"primary__button",onClick:()=>i(!0)||o(!1),children:"Log in"}),Object(d.jsx)("button",{className:"text__button",onClick:()=>o(!0)||i(!1),children:"Sign up"})]})]})}),Object(d.jsxs)("div",{className:"timeline",children:[C&&Object(d.jsx)(O,{user:C}),a.map((e=>{let{id:t,post:a}=e;return Object(d.jsx)(b,{postId:t,user:C,username:a.username,caption:a.caption,imageUrl:a.imageUrl},t)}))]})]}):Object(d.jsx)(x,{})}function w(){return Object(d.jsx)(r.a,{children:Object(d.jsx)(i.c,{children:Object(d.jsx)(i.a,{path:"/",element:Object(d.jsx)(N,{})})})})}o.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(w,{})}),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.fc63de97.chunk.js.map